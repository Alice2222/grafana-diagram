{"version":3,"sources":["../src/analytics.js"],"names":["createAnalytics","Analytics","_analytics","default","app","version","plugins","googleAnalytics","trackingId","anonymizeIp","instanceName","cookieConfig","cookieName","customDimensions","pluginVersion","name","initAnalytics","enabled","wrapper","action","props","setTimeout","track"],"mappings":";;;;;;;;;;;;;AAkBA,aAASA,eAAT,GAA2B;AACvB,eAAOC,UAAUC,UAAV,CAAqBC,OAArB,CAA6B;AAChCC,iBAAK,gBAD2B;AAEhCC,qBAASA,OAFuB,EAEd;AAClBC,qBAAS,CACPC,gBACE;AACEC,4BAAY,gBADd;AAEE;AACAC,6BAAa,IAHf;AAIEC,8BAAc,WAJhB;AAKEC,8BAAc;AACZC,gCAAY;AADA,iBALhB;AAQE;AACAC,kCAAkB;AAChBC,mCAAe;AADC;AATpB,aADF,EAcE;AACEC,sBAAM;AADR,aAdF,CADO;AAHuB,SAA7B,CAAP;AAwBH;;AAEM,aAASC,aAAT,CAAuBC,OAAvB,EAAgC;AACnC,YAAGA,OAAH,EAAY;AACR,mBAAO,IAAIC,OAAJ,CAAYlB,iBAAZ,CAAP;AACH,SAFD,MAEO;AACH,mBAAO,IAAIkB,OAAJ,EAAP;AACH;AACJ;;6BANeF,a;;;;AA7CTf,qB;;AACAM,2B;;;;;;;;;;;;;;;;;;;;;AAEDF,mB,GAAU,O;;AAEVa,mB;;;0CACIC,M,EAAQC,K,EAAO;AAAA;;AACjB,4BAAI,KAAKlB,UAAT,EAAqB;AACjBkB,oCAAQA,SAAS,EAAjB;AACAA,kCAAMN,aAAN,GAAsBT,OAAtB;AACAgB,uCAAW;AAAA,uCAAM,MAAKnB,UAAL,CAAgBoB,KAAhB,CAAsBH,MAAtB,EAA8BC,KAA9B,CAAN;AAAA,6BAAX;AACH;AACJ;;;AACD,iCAAYlB,UAAZ,EAAwB;AAAA;;AACpB,yBAAKA,UAAL,GAAkBA,UAAlB;AACH;;;;;AACJ","file":"analytics.js","sourcesContent":["import Analytics from './libs/analytics/dist/analytics.min'\nimport googleAnalytics from './libs/@analytics/google-analytics/dist/@analytics/google-analytics.min'\n\nconst version = '1.6.4';\n\nclass wrapper {\n    track(action, props) {\n        if (this._analytics) {\n            props = props || {};\n            props.pluginVersion = version;\n            setTimeout(() => this._analytics.track(action, props));\n        }\n    }\n    constructor(_analytics) {\n        this._analytics = _analytics;\n    }\n};\n \nfunction createAnalytics() {\n    return Analytics._analytics.default({\n        app: 'diagram-plugin',\n        version: version, // doesnt appear to work, so will configure as a custom dimension\n        plugins: [\n          googleAnalytics(\n            {\n              trackingId: 'UA-178409998-1',\n              /* Anonymize the IP addresses */\n              anonymizeIp: true,\n              instanceName: 'gaDiagram',\n              cookieConfig: {\n                cookieName: '_gaDiagram',\n              },\n              /* Google Analytics custom dimensions */\n              customDimensions: {\n                pluginVersion: 'dimension1',\n              },\n            },\n            {\n              name: 'diagram-analytics',\n            }\n          ),\n        ],\n      });\n}\n\nexport function initAnalytics(enabled) {\n    if(enabled) {\n        return new wrapper(createAnalytics());\n    } else {\n        return new wrapper();\n    }\n}"]}