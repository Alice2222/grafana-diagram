{"version":3,"sources":["../src/analytics.js"],"names":["createAnalytics","Analytics","_analytics","default","app","plugins","googleAnalytics","trackingId","anonymizeIp","instanceName","cookieConfig","cookieName","customDimensions","pluginVersion","name","initAnalytics","enabled","wrapper","action","props","setTimeout","track"],"mappings":";;;;;;;;;;;;;AAcA,aAASA,eAAT,GAA2B;AACvB,eAAOC,UAAUC,UAAV,CAAqBC,OAArB,CAA6B;AAChCC,iBAAK,gBAD2B;AAEhCC,qBAAS,CACPC,gBAAgB;AACdC,4BAAY,gBADE;AAEd;AACAC,6BAAa,IAHC;AAIdC,8BAAc,WAJA;AAKdC,8BAAc;AACZC,gCAAY;AADA,iBALA;AAQd;AACAC,kCAAkB;AAChBC,mCAAe;AADC;AATJ,aAAhB,EAYG;AACCC,sBAAM;AADP,aAZH,CADO;AAFuB,SAA7B,CAAP;AAoBH;;AAEM,aAASC,aAAT,CAAuBC,OAAvB,EAAgC;AACnC,YAAGA,OAAH,EAAY;AACR,mBAAO,IAAIC,OAAJ,CAAYjB,iBAAZ,CAAP;AACH,SAFD,MAEO;AACH,mBAAO,IAAIiB,OAAJ,EAAP;AACH;AACJ;;6BANeF,a;;;;AArCTd,qB;;AACAK,2B;;;;;;;;;;;;;;;;;;;;;AAEDW,mB;;;0CACIC,M,EAAQC,K,EAAO;AAAA;;AACjB,4BAAI,KAAKjB,UAAT,EAAqB;AACjBkB,uCAAW;AAAA,uCAAM,MAAKlB,UAAL,CAAgBmB,KAAhB,CAAsBH,MAAtB,EAA8BC,KAA9B,CAAN;AAAA,6BAAX;AACH;AACJ;;;AACD,iCAAYjB,UAAZ,EAAwB;AAAA;;AACpB,yBAAKA,UAAL,GAAkBA,UAAlB;AACH;;;;;AACJ","file":"analytics.js","sourcesContent":["import Analytics from './libs/analytics/dist/analytics.min'\nimport googleAnalytics from './libs/@analytics/google-analytics/dist/@analytics/google-analytics.min'\n\nclass wrapper {\n    track(action, props) {\n        if (this._analytics) {\n            setTimeout(() => this._analytics.track(action, props));\n        }\n    }\n    constructor(_analytics) {\n        this._analytics = _analytics;\n    }\n};\n \nfunction createAnalytics() {\n    return Analytics._analytics.default({\n        app: 'diagram-pligin',\n        plugins: [\n          googleAnalytics({\n            trackingId: 'UA-178409998-1',\n            /* Anonymize the IP addresses */\n            anonymizeIp: true,\n            instanceName: 'gaDiagram',\n            cookieConfig: {\n              cookieName: '_gaDiagram'\n            },\n            /* Google Analytics custom dimensions here */\n            customDimensions: {\n              pluginVersion: 'dimension1'\n            },\n          }, {\n              name: 'diagram-analytics'\n          })\n        ]\n    });\n}\n\nexport function initAnalytics(enabled) {\n    if(enabled) {\n        return new wrapper(createAnalytics());\n    } else {\n        return new wrapper();\n    }\n}"]}